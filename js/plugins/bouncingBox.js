define(function(require,exports,module){BouncingLoginBox=function(){function BouncingLoginBox(opts){this.opts=$.extend(!0,{fadeOutDuration:300,fontColor:"#FFF",bgColor:"#333",needBtnConfirm:!1,btnConfirmValue:"OK",clickAnywhereToClose:!1},opts),this.fadeOutDuration=this.opts.fadeOutDuration,this.bgColor=this.opts.bgColor,this.fontColor=this.opts.fontColor,this.needBtnConfirm=this.opts.needBtnConfirm,this.btnConfirmValue=this.opts.btnConfirmValue,this.content="",this.clickAnywhereToClose=this.opts.clickAnywhereToClose,this.width=this.opts.width,void 0===this.opts.needMask?this.needMask=!0:this.needMask=this.opts.needMask,void 0!==opts&&(this.content=this.opts.content),this.createBox(),"number"==typeof this.opts.showTime&&this.hide(),(this.needMask||this.clickAnywhereToClose)&&this.createMask(),this.bind()}BouncingLoginBox.prototype.hide=function(){var _this=this;setTimeout(function(){_this.close()},_this.opts.showTime)},BouncingLoginBox.prototype.close=function(){var _this=this;$(_this.wrap).fadeOut(_this.fadeOutDuration,function(){null!==this.parentNode&&this.parentNode.removeChild(this)}),void 0!==this.mask&&null!==this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask),instance=null,$(document).off(".BouncingLoginBox"),$("#demo-bouncingBox button").trigger("recoverInnerText",["提","交"])},BouncingLoginBox.prototype.createMask=function(){this.mask=document.createElement("div"),this.mask.classList.add("bouncing-box-mask"),this.mask.style.cssText="width:100%; height:100%; position:fixed; top:0; left:0; z-index:900; background:rgba(0,0,0,0.3);",document.body.appendChild(this.mask)},BouncingLoginBox.prototype.createBox=function(){var _this=this;_this.wrap=document.createElement("div");var wrap=_this.wrap;wrap.classList.add("bouncing-box"),wrap.style.cssText="background:"+_this.bgColor+"; color:"+_this.fontColor+";",void 0!==_this.width&&(wrap.style.cssText="width:"+this.width),document.body.appendChild(wrap);var closeIcon=document.createElement("div");if(closeIcon.classList.add("bouncing-box-closeIcon"),closeIcon.setAttribute("title","close"),closeIcon.appendChild(document.createTextNode("×")),wrap.appendChild(closeIcon),"string"==typeof _this.content){var inner=document.createTextNode(_this.content);wrap.classList.add("bouncing-box-text"),wrap.appendChild(inner)}else if("function"==typeof _this.content){if(void 0===_this.content().nodeType)throw new Error("need Element of type");wrap.appendChild(_this.content())}_this.needBtnConfirm&&(_this.btnConfirm=document.createElement("button"),_this.btnConfirm.classList.add("btn"),_this.btnConfirm.classList.add("bouncing-box-btnConfirm"),_this.btnConfirm.innerText=_this.btnConfirmValue,wrap.appendChild(this.btnConfirm))},BouncingLoginBox.prototype.bind=function(){var _this=this;_this.wrap.addEventListener("click",function(e){e.target.classList.contains("bouncing-box-closeIcon")&&_this.close()}),$(document).on("click.BouncingLoginBox",function(e){_this.clickAnywhereToClose&&e.target!==_this.wrap&&_this.close(),_this.needBtnConfirm&&e.target==_this.btnConfirm&&_this.close()})};var instance;return function(options){instance=instance||new BouncingLoginBox(options)}}(),module.exports=BouncingLoginBox});